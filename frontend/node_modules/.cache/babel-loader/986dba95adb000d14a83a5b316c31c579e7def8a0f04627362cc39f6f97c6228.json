{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{mcpService}from'../api/mcpService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Generator=()=>{const[docUrl,setDocUrl]=useState('');const[requestMessage,setRequestMessage]=useState('');const[apiKey,setApiKey]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);try{// First check if server is healthy\nawait mcpService.checkHealth();// Submit generation request\nconst response=await mcpService.generateMCPServer(docUrl,requestMessage,{api_key:apiKey});if(response.data.success){navigate(`/templates/${response.data.template_id}`);}else{setError(response.data.error||'Failed to generate MCP server.');}}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||'Server error. Please try again later.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-6\",children:\"Generate MCP Server\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4\",role:\"alert\",children:/*#__PURE__*/_jsx(\"p\",{children:error})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"docUrl\",children:\"API Documentation URL\"}),/*#__PURE__*/_jsx(\"input\",{id:\"docUrl\",type:\"url\",value:docUrl,onChange:e=>setDocUrl(e.target.value),placeholder:\"https://petstore.swagger.io/v2/swagger.json\",className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",required:true}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-xs mt-1\",children:\"URL to OpenAPI/Swagger documentation (JSON or YAML)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"requestMessage\",children:\"Request Message\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"requestMessage\",value:requestMessage,onChange:e=>setRequestMessage(e.target.value),placeholder:\"Generate an MCP server for this API with rate limiting and error handling\",className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-32\",required:true}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-xs mt-1\",children:\"Describe what you want the generated MCP server to do\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"apiKey\",children:\"API Key (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"apiKey\",type:\"password\",value:apiKey,onChange:e=>setApiKey(e.target.value),className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-xs mt-1\",children:\"If the API requires authentication, provide your API key\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",disabled:loading,children:loading?'Generating...':'Generate MCP Server'})}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:\"This may take a few minutes. Please be patient...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 relative w-full h-4 bg-gray-200 rounded\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 h-full bg-blue-500 rounded animate-pulse w-full\"})})]})]})]});};export default Generator;","map":{"version":3,"names":["React","useState","useNavigate","mcpService","jsx","_jsx","jsxs","_jsxs","Generator","docUrl","setDocUrl","requestMessage","setRequestMessage","apiKey","setApiKey","loading","setLoading","error","setError","navigate","handleSubmit","e","preventDefault","checkHealth","response","generateMCPServer","api_key","data","success","template_id","err","_err$response","_err$response$data","detail","className","children","role","onSubmit","htmlFor","id","type","value","onChange","target","placeholder","required","disabled"],"sources":["/Users/takshitmathur/Desktop/MCPGenerator/frontend/src/pages/Generator.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { mcpService } from '../api/mcpService';\n\nconst Generator = () => {\n  const [docUrl, setDocUrl] = useState('');\n  const [requestMessage, setRequestMessage] = useState('');\n  const [apiKey, setApiKey] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      // First check if server is healthy\n      await mcpService.checkHealth();\n      \n      // Submit generation request\n      const response = await mcpService.generateMCPServer(\n        docUrl,\n        requestMessage,\n        { api_key: apiKey }\n      );\n      \n      if (response.data.success) {\n        navigate(`/templates/${response.data.template_id}`);\n      } else {\n        setError(response.data.error || 'Failed to generate MCP server.');\n      }\n    } catch (err) {\n      setError(err.response?.data?.detail || 'Server error. Please try again later.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-md\">\n      <h1 className=\"text-2xl font-bold mb-6\">Generate MCP Server</h1>\n      \n      {error && (\n        <div className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4\" role=\"alert\">\n          <p>{error}</p>\n        </div>\n      )}\n      \n      <form onSubmit={handleSubmit}>\n        <div className=\"mb-4\">\n          <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"docUrl\">\n            API Documentation URL\n          </label>\n          <input\n            id=\"docUrl\"\n            type=\"url\"\n            value={docUrl}\n            onChange={(e) => setDocUrl(e.target.value)}\n            placeholder=\"https://petstore.swagger.io/v2/swagger.json\"\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n            required\n          />\n          <p className=\"text-gray-600 text-xs mt-1\">\n            URL to OpenAPI/Swagger documentation (JSON or YAML)\n          </p>\n        </div>\n        \n        <div className=\"mb-4\">\n          <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"requestMessage\">\n            Request Message\n          </label>\n          <textarea\n            id=\"requestMessage\"\n            value={requestMessage}\n            onChange={(e) => setRequestMessage(e.target.value)}\n            placeholder=\"Generate an MCP server for this API with rate limiting and error handling\"\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-32\"\n            required\n          />\n          <p className=\"text-gray-600 text-xs mt-1\">\n            Describe what you want the generated MCP server to do\n          </p>\n        </div>\n        \n        <div className=\"mb-6\">\n          <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"apiKey\">\n            API Key (Optional)\n          </label>\n          <input\n            id=\"apiKey\"\n            type=\"password\"\n            value={apiKey}\n            onChange={(e) => setApiKey(e.target.value)}\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n          />\n          <p className=\"text-gray-600 text-xs mt-1\">\n            If the API requires authentication, provide your API key\n          </p>\n        </div>\n        \n        <div className=\"flex items-center justify-between\">\n          <button\n            type=\"submit\"\n            className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n            disabled={loading}\n          >\n            {loading ? 'Generating...' : 'Generate MCP Server'}\n          </button>\n        </div>\n        \n        {loading && (\n          <div className=\"mt-6\">\n            <p className=\"text-gray-700\">\n              This may take a few minutes. Please be patient...\n            </p>\n            <div className=\"mt-2 relative w-full h-4 bg-gray-200 rounded\">\n              <div className=\"absolute top-0 left-0 h-full bg-blue-500 rounded animate-pulse w-full\"></div>\n            </div>\n          </div>\n        )}\n      </form>\n    </div>\n  );\n};\n\nexport default Generator; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}